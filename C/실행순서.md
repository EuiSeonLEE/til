# 실행순서   

# 📗 컴파일

컴파일러는 ASCII 코드로 입력되어있는 프로그램을 해석할 수 있다. #include <stdio.h> 라는 전처리 과정 중에서 컴파일러에 미리 설정되어있는 디렉토리에서 그안에서 stdio.h를 읽어오는 방식을 거친다. 그렇게 생성된 .c의 파일이 .i 의 파일로 변화가 되고 그 파일을 컴파일을 하기 시작한다.

1. 전단부
    - 소스코드에 오류가 없는지를 검사해서, 이상이 없으면 소스코드를 트리구조로 변경하는 작업을 수행하는 것이다.
2. 중단부
    - 프로그램 최적화 작업을 수행
3. 후단부
    - 중단부에서 수행한 최적화 결과를 받아서 CPU 종속적인 최적화 작업을 수행한다. 모든 최적화 작업이 완료되면 CPU 에서 사용가능한 명령어로 된 어셈블 코드를 생성한다. 어셈블 코드는 CPU 마다 다르게 생성되야한다. 그래서 특정 CPU 용으로 만들어진 것을 사용해야한다.

# 📘 어셈블러

기계어로 어셈블리어를 변환시켜주는 역할을 한다. 뿐만 아니라, 섹션 혹은 세그먼트라고 불리워지는 내용들을 분류하는 작업 또한 수행한다. .text 는 코드의 섹션을 의미한다. CPU 가 수행되어야하는 명령어들을 모아놓은 섹션이다. .text 안의 .rodata 섹션은 .data 섹션의 일부로 read only data 들을 모아 놓은 섹션이다. 주로 printf 와 같은 함수를 사용하는 문자열이 여기에 포함된다. 

# 📙 링커

컴파일 과정 이후에 .o 파일과 라이브러리 .a  파일을 이용해서 최종 실행파일을 만드는 링크 과정을 수행한다.

디렉토리내에 생성된 모든 .o 파일로 컴파일을 하고, 디렉토리 내에 생성된 모든 .o 파일을 합쳐서 .a 파일로 만든다. 그리고 각 디렉토리에 있는 .a 파일들과 컴파일러에서 제공하는 공용 라이브러리를 합쳐서 최종 결과물을 만드는 것이 일반적이다.

1. 동적 라이브러리
    - 프로그램이 실행이 될때, OS 를 통해서 참조를 할 수 있도록 한다.
2. 정적 라이브러리
    - 실행 파일과 함께 라이브러리를 포함하는 방식으로 된다.
    

여기에서 AVR 같은 경우에는 OS 가 없는 환경에서 프로그램을 개발하기 때문에 무조건 정적 라이브러리를 사용해서 실행파일 내에 라이브러리가 포함되도록 해야한다.